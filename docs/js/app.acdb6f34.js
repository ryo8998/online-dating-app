(function(e){function t(t){for(var r,i,l=t[0],o=t[1],c=t[2],d=0,f=[];d<l.length;d++)i=l[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);u&&u(t);while(f.length)f.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],r=!0,l=1;l<s.length;l++){var o=s[l];0!==a[o]&&(r=!1)}r&&(n.splice(t--,1),e=i(i.s=s[0]))}return e}var r={},a={app:0},n=[];function i(t){if(r[t])return r[t].exports;var s=r[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=r,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(s,r,function(t){return e[t]}.bind(null,r));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/online-dating-app/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=o;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"00e0":function(e,t,s){},"034f":function(e,t,s){"use strict";s("85ec")},"1aaa":function(e,t,s){"use strict";s("00e0")},"28f1":function(e,t,s){"use strict";s("9810")},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var r=s("2b0e"),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"vh-100",attrs:{id:"app"}},[s("the-navigator"),s("router-view")],1)},n=[],i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"secondary"}},[s("b-navbar-brand",{attrs:{href:"#"}},[e._v("Online Dating App")]),s("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),s("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[s("b-navbar-nav",[s("b-nav-item",{attrs:{to:"/"}},[e._v("Home")]),s("b-nav-item",{attrs:{to:"/message-list"}},[e._v("Message List")])],1)],1)],1)},l=[],o=(s("71e1"),s("2877")),c={},u=Object(o["a"])(c,i,l,!1,null,"67a3da2d",null),d=u.exports,f={components:{TheNavigator:d}},m=f,g=(s("034f"),Object(o["a"])(m,a,n,!1,null,null,null)),p=g.exports,v=s("8c4f"),h=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"card-deck"},[s("div",{staticClass:"d-flex col-12 flex-wrap my-2"},[s("div",{staticClass:"d-flex col-sm-6 col-md-4 justify-content-center my-2"},[e._m(0),s("div",[s("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedGender,expression:"selectedGender"}],staticClass:"form-select col-12",attrs:{id:"gender-select","aria-label":"Default select example"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedGender=t.target.multiple?s:s[0]}}},e._l(e.gender,(function(t){return s("option",{key:t},[e._v(e._s(t))])})),0)])]),s("div",{staticClass:"d-flex col-sm-6 col-md-4 justify-content-center my-2"},[e._m(1),s("div",[s("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedSortOption,expression:"selectedSortOption"}],staticClass:"form-select col-12",attrs:{id:"sort-age","aria-label":"Default select example"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedSortOption=t.target.multiple?s:s[0]}}},e._l(e.sortOption,(function(t){return s("option",{key:t},[e._v(e._s(t))])})),0)])])]),s("div",{staticClass:"d-flex flex-wrap col-12"},e._l(e.sortUserList,(function(e){return s("router-link",{key:e.id,staticClass:"d-flex col-sm-6 col-md-4 justify-content-center my-2",attrs:{to:"/user-detail/"+e.id}},[s("user-card",{attrs:{user:e}})],1)})),1)])},y=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("label",{staticClass:"mx-2",attrs:{for:"gender-select"}},[e._v("Filter:")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("label",{staticClass:"mx-2",attrs:{for:"gender-select"}},[e._v("Sort:")])])}],b=(s("4de4"),s("4e82"),s("fb6a"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"card"},[s("svg",{staticClass:"bd-placeholder-img card-img-top",attrs:{width:"100%",height:"300",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid slice",focusable:"false",role:"img","aria-label":"Placeholder: Image cap"}},[s("rect",{attrs:{fill:"transparent",width:"50%",height:"50%"}}),s("text",{attrs:{fill:"#dee2e6",dy:".3em",x:"100%",y:"100%"}},[e._v("Image cap")]),s("image",{attrs:{href:e.user.picture,x:"0",y:"0",height:"100%",width:"100%"}})]),s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title"},[e._v(e._s(e.user.userName.title)+" "+e._s(e.user.userName.first)+" "+e._s(e.user.userName.last))]),s("p",{staticClass:"card-text"},[e._v("age:"+e._s(e.user.age))])])])])}),_=[],x={name:"UserCard",props:["user"]},C=x,w=Object(o["a"])(C,b,_,!1,null,null,null),M=w.exports,I={components:{UserCard:M},data:function(){return{gender:["Select gender","Male","Female"],selectedGender:"Select gender",sortOption:["Sort by","Age"],selectedSortOption:"Sort by"}},name:"UserList",created:function(){this.$store.dispatch("fetchUsers")},computed:{getUserInfoForList:function(){return this.$store.getters.getUserInfoForList},filterUserList:function(){var e=this;return"Select gender"===this.selectedGender?this.getUserInfoForList:this.getUserInfoForList.filter((function(t){return t.gender===e.selectedGender.toLowerCase()}))},sortUserList:function(){return"Sort by"===this.selectedSortOption?this.filterUserList:this.filterUserList.slice().sort((function(e,t){return e.age-t.age}))}}},j=I,O=Object(o["a"])(j,h,y,!1,null,null,null),$=O.exports,U=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container d-flex justify-content-center"},[s("table",{staticClass:"table table-bordered mt-3"},[s("tbody",[s("tr",[s("td",{attrs:{id:"image-container",colspan:"2"}},[s("img",{attrs:{src:e.userPic}}),s("router-link",{attrs:{to:"/chat/"+e.userId}},[s("button",{staticClass:"btn btn-secondary",attrs:{id:"chat-button"}},[e._v("Chat Page")])])],1)]),s("tr",[s("td",{staticClass:"col-4"},[e._v("Name:")]),s("td",{staticClass:"col-8"},[e._v(e._s(e.userName))])]),s("tr",[s("td",{staticClass:"col-4"},[e._v("Gender:")]),s("td",{staticClass:"col-8"},[e._v(e._s(e.userGender))])]),s("tr",[s("td",{staticClass:"col-4"},[e._v("Day of Birth / Age:")]),s("td",{staticClass:"col-8"},[e._v(e._s(e.userBirthday))])]),s("tr",[s("td",{staticClass:"col-4"},[e._v("State:")]),s("td",{staticClass:"col-8"},[e._v(e._s(e.userState))])]),s("tr",[s("td",{staticClass:"col-4"},[e._v("Email:")]),s("td",{staticClass:"col-8"},[e._v(e._s(e.userEmail))])])])])])},S=[],k=(s("b0c0"),{name:"UserDetail",data:function(){return{user:""}},computed:{userEmail:function(){return this.user.userInfo.email},userName:function(){var e=this.user.userInfo.name.first+" "+this.user.userInfo.name.last;return e},userGender:function(){return this.user.userInfo.gender},userBirthday:function(){var e=this.user.userInfo.dob.date.substring(0,10)+" / "+this.user.userInfo.dob.age;return e},userPic:function(){return this.user.userInfo.picture.large},userState:function(){return this.user.userInfo.state},userId:function(){return this.user.id}},created:function(){this.user=this.$store.getters.getUserById(this.$route.params.id)}}),L=k,E=(s("28f1"),Object(o["a"])(L,U,S,!1,null,"d937395e",null)),P=E.exports,B=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container-fluid mt-2 h-75",attrs:{id:"main-container"}},[s("div",{ref:"messageContainer",staticClass:"h-100",attrs:{id:"message-container"}},e._l(e.getMessageById,(function(e){return s("my-message",{key:e.message,attrs:{message:e}})})),1),s("div",{staticClass:"input-group my-1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.inputMessage,expression:"inputMessage"}],staticClass:"form-control",attrs:{type:"text",placeholder:"message","aria-label":"message","aria-describedby":"button-addon"},domProps:{value:e.inputMessage},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendMessage()},input:function(t){t.target.composing||(e.inputMessage=t.target.value)}}}),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button",id:"button-addon2"},on:{click:function(t){return e.sendMessage()}}},[e._v("送信")])])])])},N=[],G=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"d-flex flex-column col-12 px-0"},[s("div",{staticClass:"d-flex my-1",attrs:{id:"my-message"}},[s("div",{staticClass:"d-flex flex-wrap col-sm-9 col-md-10 col-11"},[s("div",{staticClass:"d-flex col-12 align-items-center justify-content-start"},[s("p",{staticClass:"my-0"},[e._v(e._s(e.message.message))])]),s("div",{staticClass:"d-flex col-12 align-items-center justify-content-start"},[s("p",{staticClass:"my-0"},[e._v(e._s(e.message.date))])])]),e._m(0)]),s("div",{staticClass:"d-flex bg-light my-1 col-12",attrs:{id:"response-message"}},[s("div",{staticClass:"col-xs-4 col-sm-3 col-md-2 col-lg-1 col-4 d-flex justify-content-start px-0"},[s("img",{attrs:{height:"75",width:"75",src:e.userPic,alt:""}})]),s("div",{staticClass:"d-flex flex-wrap col-xs-7 col-sm-8 col-md-9 col-10 px-0"},[e._m(1),s("div",{staticClass:"d-flex col-12 align-items-center justify-content-start"},[s("p",{staticClass:"my-0"},[e._v(e._s(e.message.date))])])])])])},A=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-sm-3 col-md-2 col-1 d-flex justify-content-end"},[s("div",[s("img",{attrs:{height:"75",width:"75",src:"https://images.daznservices.com/di/library/GOAL/6a/bf/lionel-messi-barcelona-2020-21_fsb9c37x37x01vkxip76akyp8.jpg?t=1561199177&quality=100",alt:""}})])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"d-flex col-12 align-items-center justify-content-start"},[s("p",{staticClass:"my-0 px-0"},[e._v("I want you to stay in FC Barcelona")])])}],D={props:["message"],computed:{userPic:function(){var e=this.$store.getters.getUserById(this.$route.params.id);return e.userInfo.picture.large}}},F=D,T=(s("727e"),Object(o["a"])(F,G,A,!1,null,"c0b3165c",null)),H=T.exports,J={components:{MyMessage:H},data:function(){return{inputMessage:""}},methods:{sendMessage:function(){var e=new Date;this.$store.commit("setMessages",{id:this.$route.params.id,message:{message:this.inputMessage,date:e.toLocaleDateString()+" "+e.toLocaleTimeString()}}),this.inputMessage=""}},computed:{getMessageById:function(){var e=this.$store.getters.getMessageById(this.$route.params.id);return e?e.message:[]}},updated:function(){var e=this.$refs.messageContainer;e.scrollTop=e.scrollHeight}},q=J,z=(s("abbc"),Object(o["a"])(q,B,N,!1,null,"53d62182",null)),R=z.exports,Y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container-fluid d-flex flex-wrap"},e._l(e.getMessages,(function(e){return s("message-history",{key:e.id,attrs:{id:e.id,message:e.message.slice(-1)[0]}})})),1)},K=[],Q=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("router-link",{staticClass:"col-12",attrs:{to:"/chat/"+e.id}},[s("div",{staticClass:"d-flex bg-light my-1"},[s("div",{staticClass:"col-xs-4 col-sm-3 col-md-2 col-lg-1 col-4 d-flex justify-content-start px-0"},[s("img",{attrs:{height:"75",width:"75",src:e.userPic,alt:""}})]),s("div",{staticClass:"d-flex flex-wrap col-11"},[s("div",{staticClass:"d-flex col-12 align-items-center"},[s("p",{staticClass:"my-0"},[e._v(e._s(e.message.message))])]),s("div",{staticClass:"d-flex col-12 align-items-center"},[s("p",{staticClass:"my-0"},[e._v(e._s(e.message.date))])])])])])},V=[],W={props:["message","id"],name:"MessageHistory",computed:{userPic:function(){var e=this.$store.getters.getUserById(this.id);return e.userInfo.picture.large}}},X=W,Z=(s("1aaa"),Object(o["a"])(X,Q,V,!1,null,"8f63c036",null)),ee=Z.exports,te={components:{MessageHistory:ee},computed:{getMessages:function(){return this.$store.getters.getMessages()}}},se=te,re=Object(o["a"])(se,Y,K,!1,null,null,null),ae=re.exports;r["default"].use(v["a"]);var ne=[{path:"/",name:"UserList",component:$},{path:"/user-detail/:id",name:"UserDetail",component:P},{path:"/chat/:id",name:"chat",component:R},{path:"/message-list/",name:"messageList",component:ae}],ie=new v["a"]({mode:"history",base:"/online-dating-app/",routes:ne}),le=ie,oe=s("2f62"),ce=s("b85c"),ue=(s("d3b7"),s("7db0"),s("d81d"),{state:{users:[]},mutations:{setAllUsers:function(e,t){0===e.users.length&&(e.users=t)}},actions:{fetchUsers:function(e){fetch("https://randomuser.me/api/?results=100").then((function(e){return e.json()})).then((function(t){var s,r=[],a=Object(ce["a"])(t.results);try{for(a.s();!(s=a.n()).done;){var n=s.value,i={id:n.login.uuid,userInfo:{name:n.name,gender:n.gender,email:n.email,dob:n.dob,picture:n.picture,cell:n.cell,state:n.location.state}};r.push(i)}}catch(l){a.e(l)}finally{a.f()}e.commit("setAllUsers",r)}))}},getters:{getUserById:function(e){return function(t){return e.users.find((function(e){return e.id===t}))}},getUserInfoForList:function(e){return e.users.map((function(e){return{id:e.id,age:e.userInfo.dob.age,userName:e.userInfo.name,picture:e.userInfo.picture.large,gender:e.userInfo.gender}}))}}}),de={state:{messages:[]},mutations:{setMessages:function(e,t){var s=e.messages.find((function(e){return e.id===t.id}));s?s.message.push(t.message):e.messages.push({id:t.id,message:[t.message]})}},getters:{getMessageById:function(e){return function(t){return e.messages.find((function(e){return e.id===t}))}},getMessages:function(e){return function(){return e.messages}}}};r["default"].use(oe["a"]);var fe=new oe["a"].Store({modules:{UserModule:ue,MessageModule:de}}),me=s("5f5b");s("f9e3"),s("2dd8");r["default"].use(me["a"]),r["default"].config.productionTip=!1,new r["default"]({router:le,store:fe,render:function(e){return e(p)}}).$mount("#app")},"71e1":function(e,t,s){"use strict";s("fef5")},"727e":function(e,t,s){"use strict";s("f5dc")},"85ec":function(e,t,s){},9810:function(e,t,s){},abbc:function(e,t,s){"use strict";s("e2f5")},e2f5:function(e,t,s){},f5dc:function(e,t,s){},fef5:function(e,t,s){}});
//# sourceMappingURL=app.acdb6f34.js.map